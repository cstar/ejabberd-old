# $Id$

CC = @CC@
CFLAGS = @CFLAGS@
CPPFLAGS = @CPPFLAGS@
LDFLAGS = @LDFLAGS@
LIBS = @LIBS@

ERLANG_CFLAGS = @ERLANG_CFLAGS@
ERLANG_LIBS = @ERLANG_LIBS@

SUBDIRS = 

OUTDIR = ..
EFLAGS = -I .. -pz ..
# make debug=true to compile Erlang module with debug informations.
ifdef debug
EFLAGS+=+debug_info
endif

OBJS   = \
	$(OUTDIR)/gen_pubsub_node.beam \
	$(OUTDIR)/gen_pubsub_nodetree.beam \
	$(OUTDIR)/nodetree_default.beam \
	$(OUTDIR)/nodetree_virtual.beam \
	$(OUTDIR)/mod_pubsub.beam \
	$(OUTDIR)/node_default.beam \
	$(OUTDIR)/node_pep.beam 

all:    $(OBJS)

$(OUTDIR)/%.beam:       %.erl
	@ERLC@ -W $(EFLAGS) -o $(OUTDIR) $<

clean:
	rm -f $(OBJS)

distclean: clean
	rm -f Makefile

TAGS:
	etags *.erl

