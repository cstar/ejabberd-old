<!-- aim-t master.xml van SERVERNAME door Sander Devrieze -->

<jabber>

  <!--
     You need to add elogger and rlogger entries here when using ejabberd.
     In this case the transport will do the logging.
  -->

  <log id='elogger'>
    <host/>
    <logtype/>
    <format>%d: [%t] (%h): %s</format>
    <file>ERROR_LOG_DIRECTORY/aim-t.log</file>
  </log>

  <log id='rlogger'>
    <host/>
    <logtype>record</logtype>
    <format>%d %h %s</format>
    <file>RECORD_LOG_DIRECTORY/aim-t.log</file>
  </log>

  <!--
     Some Jabber server implementations do not provide
     XDB services (for example jabberd 2.0 and ejabberd).
     xdb_file.so is loaded in to handle all XDB requests.
  -->

  <xdb id="xdb">
    <host/>
    <load>
      <xdb_file>JABBER_LIBS_DIRECTORYxdb_file.so</xdb_file>
      </load>
    <xdb_file xmlns="jabber:config:xdb_file">
      <spool><jabberd:cmdline flag='s'>JABBERD14-SPOOL-DIRECTORY</jabberd:cmdline></spool>
    </xdb_file>
  </xdb>

  <!--
     localhost is your jabber host.
     Replace "localhost" by the full host name of your server
     and have all host names here resolveable via DNS if you
     want the transport to be available to the public.
  -->

  <service id='aim.SERVERNAME'>
    <!-- aim-t configuration -->
    <aim-t xmlns='jabber:config:aim-t'>
      <jabberd:include>./vCard.xml</jabberd:include>
      <charset>cp1252</charset>
    </aim-t>
    <!-- aim-t module -->
    <load>
      <aim_transport>JABBER_LIBS_DIRECTORYaim-t.so</aim_transport>
    </load>
  </service>

  <!--
     The settings here have to match the setting you made
     in your main Jabber server's configuration file.
     Replace localhost with your main jabber server host name.
  -->

  <service id="icq.SERVERNAME-linker">
    <uplink/>
    <connect>
      <ip>127.0.0.1</ip>
      <port>5233</port>
      <jabberd:include>./secret.xml</jabberd:include>
    </connect>
  </service>

  <pidfile>PID_FILE_DIRECTORY/aim-t.pid</pidfile>

</jabber>
